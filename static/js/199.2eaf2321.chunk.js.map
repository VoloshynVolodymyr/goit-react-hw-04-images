{"version":3,"file":"static/js/199.2eaf2321.chunk.js","mappings":"yPAGMA,E,QAAcC,EAAAA,OAAa,CAC/BC,QAAS,iCAGLC,EAAW,SAACC,GAChB,GAAIA,EACF,OAAQJ,EAAYK,SAASC,QAAQC,OAAOC,cAApC,iBAA8DJ,GAExEJ,EAAYK,SAASC,QAAQC,OAAOC,cAAgB,EACrD,EAEKC,EAAS,mCAAG,6GAEST,EAAYU,IACjC,0CAHY,cAERC,EAFQ,yBAKPA,GALO,gCAOdC,QAAQC,IAAR,MAPc,yDAAH,qDAYFC,EAAQ,mCAAG,WAAOC,GAAP,gGAEQN,IAFR,cAEdO,EAFc,OAIpBC,aAAaC,QAAQ,QAASF,EAAcG,KAAKf,OAJ7B,kBAKbY,EAAcG,MALD,gCAOpBP,QAAQC,IAAR,MAPoB,yDAAH,sDAYRO,EAAS,mCAAG,WAAOC,GAAP,2FAEfjB,EAAQa,aAAaK,QAAQ,SACnCnB,EAASC,GAHY,SAIEJ,EAAYU,IAAZ,gCACIW,IALN,uBAIbF,EAJa,EAIbA,KAJa,kBAQdA,GARc,wCAUrBhB,IAVqB,+DAAH,sDAgBToB,EAAa,mCAAG,4GAEnBnB,EAAQa,aAAaK,QAAQ,SACnCnB,EAASC,GAHgB,SAIFJ,EAAYU,IAAI,yBAJd,uBAIjBS,EAJiB,EAIjBA,KAJiB,SAKCA,EALD,uBAKjBK,EALiB,EAKjBA,QALiB,kBAOlBA,GAPkB,wCASzBrB,IATyB,+DAAH,oD,+JClDpBsB,GAAaC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAH,iPAeHE,EAAW,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,GAAIC,EAAe,EAAfA,SAC7B,OACE,UAACL,EAAD,CAAYI,GAAIA,EAAhB,WACE,SAAC,MAAD,CAAaE,KAAK,OACjBD,IAGN,E,oBCuDD,EA1EuB,WAAO,IAAD,IACnBT,GAAOW,EAAAA,EAAAA,MAAPX,IACRP,EAAAA,EAAAA,MACA,OAA4BmB,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAkCF,EAAAA,EAAAA,UAAS,IAA3C,eAAOG,EAAP,KAAkBC,EAAlB,MACAC,EAAAA,EAAAA,YAAU,YACRlB,EAAAA,EAAAA,IAAUC,GAAIkB,MAAK,SAAAC,GACbA,GACFL,EAAUK,EAEb,GACF,GAAE,CAACnB,IAEJ,IACMoB,EAAY,qBADDC,EAAAA,EAAAA,MACaC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,YACrCC,EAAYX,EAAZW,QAEFC,EAAW,SAAAC,GACfV,EAAaU,EAAEC,cAAcC,MAC9B,EAED,OACE,4BACqB,IAAlBf,EAAOgB,SAAgB,oCACxB,2BACGhB,IAAU,SAACN,EAAD,CAAUC,GAAIY,EAAd,6BACVP,EAAOgB,OAAS,IACf,gBACEC,IAAI,qFACJC,IAAI,KAGPlB,EAAOmB,cAAe,yBAAMnB,EAAOmB,cACnCnB,EAAOoB,mBACN,gBACEH,IAAG,UAAKjB,EAAOoB,iBAAZ,eACHF,IAAI,oBAGhB,iDACSP,IACC,wBACGA,EAAQU,KAAI,SAAAC,GAAE,OACb,eAAmBC,MAAO,CAAEC,UAAW,QAAvC,UACE,mBAAQT,MAAOO,EAAGG,KAAMC,KAAK,SAASC,QAASf,EAAUW,MAAO,CAAEK,aAAc,QAAhF,SACGN,EAAGO,UAFCC,EAAAA,EAAAA,MADI,UAUrB,yBACiB,IAAd5B,IACC,SAAC,IAAD,CACE6B,IAAK7B,EACL8B,SAAS,EACTC,MAAM,EACNC,OAAQ,CACNC,KAAM,CACJC,WAAY,CACVC,YAAa,OACbC,QAAS,UAIfC,UAAQ,QAMnB,C","sources":["API/api.js","components/BackLink.jsx","pages/ProductDetails.jsx"],"sourcesContent":["import axios from \"axios\";\n\n\nconst instanceAPI = axios.create({\n  baseURL: \"https://api.wisey.app/api/v1\",\n});\n\nconst setToken = (token) => {\n  if (token) {\n    return (instanceAPI.defaults.headers.common.authorization = `Bearer ${token}`);\n  }\n  instanceAPI.defaults.headers.common.authorization = \"\";\n};\n\nconst fetchData = async () => {\n  try {\n    const response = await instanceAPI.get(\n      \"/auth/anonymous?platform=subscriptions\"\n    );\n    return response;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// Returns Bearer token\nexport const getToken = async (num) => {\n  try {\n    const parcelDetails = await fetchData();\n    //   console.log(parcelDetails.data);\n    localStorage.setItem(\"token\", parcelDetails.data.token);\n    return parcelDetails.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//   Returns information about one course\nexport const getCource = async (id) => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    setToken(token);\n    const { data } = await instanceAPI.get(\n      `/core/preview-courses/${id}`\n    );\n    // console.log(data);\n    return data;\n  } catch (error) {\n    setToken();\n    throw error;\n  }\n};\n\n// Returns array of courses\nexport const getAllCources = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    setToken(token);\n    const { data } = await instanceAPI.get(\"/core/preview-courses\");\n    const  {courses}  = await data;\n    // console.log(courses);\n    return courses;\n  } catch (error) {\n    setToken();\n    throw error;\n  }\n};\n","import { HiArrowLeft } from \"react-icons/hi\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst StyledLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: orangered;\n  }\n`;\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <StyledLink to={to}>\n      <HiArrowLeft size=\"24\" />\n      {children}\n    </StyledLink>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { getCource, getToken } from '../API/api';\nimport { BackLink } from '../components/BackLink';\nimport { nanoid } from 'nanoid';\nimport ReactPlayer from 'react-player';\n\nconst ProductDetails = () => {\n  const { id } = useParams();\n  getToken();\n  const [course, setCourse] = useState([]);\n  const [videoLink, setvideoLink] = useState('');\n  useEffect(() => {\n    getCource(id).then(res => {\n      if (res) {\n        setCourse(res);\n      }\n    });\n  }, [id]);\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/products';\n  const { lessons } = course;\n\n  const btnClick = e => {\n    setvideoLink(e.currentTarget.value);\n  };\n\n  return (\n    <main>\n      {course.length === 0 && <p>Loading</p>}\n      <div>\n        {course && <BackLink to={backLinkHref}>Back to courses</BackLink>}\n        {course.length > 0 && (\n          <img\n            src=\"https://static.wixstatic.com/media/676f5c_0ed5b9bc7c4f45bc915590d42969c2d6~mv2.gif\"\n            alt=\"\"\n          />\n        )}\n        {course.description && <div>{course.description}</div>}\n        {course.previewImageLink && (\n          <img\n            src={`${course.previewImageLink}/cover.webp`}\n            alt=\"el.description\"\n          />\n        )}\n<h3>Click on your course</h3>\n        {lessons && (\n          <ul>\n            {lessons.map(el => (\n              <li key={nanoid()} style={{ listStyle: 'none' }}>\n                <button value={el.link} type=\"button\" onClick={btnClick} style={{ marginBottom: '10px' }}>\n                  {el.title}\n                </button>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n      <div>\n        {videoLink !== 0 && (\n          <ReactPlayer\n            url={videoLink}\n            playing={true}\n            loop={true}\n            config={{\n              file: {\n                attributes: {\n                  crossOrigin: 'true',\n                  preload: 'auto',\n                },\n              },\n            }}\n            controls\n          />\n        )}\n      </div>\n    </main>\n  );\n};\n\nexport default ProductDetails;\n"],"names":["instanceAPI","axios","baseURL","setToken","token","defaults","headers","common","authorization","fetchData","get","response","console","log","getToken","num","parcelDetails","localStorage","setItem","data","getCource","id","getItem","getAllCources","courses","StyledLink","styled","Link","BackLink","to","children","size","useParams","useState","course","setCourse","videoLink","setvideoLink","useEffect","then","res","backLinkHref","useLocation","state","from","lessons","btnClick","e","currentTarget","value","length","src","alt","description","previewImageLink","map","el","style","listStyle","link","type","onClick","marginBottom","title","nanoid","url","playing","loop","config","file","attributes","crossOrigin","preload","controls"],"sourceRoot":""}